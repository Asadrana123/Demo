ðŸ§¬ Step-by-Step Internal Flow

ðŸ”¹ 1. createContext() creates a context object

const ThemeContext = {
  $$typeof: Symbol(react.context),
  _currentValue: 'light',        // legacy mode
  _currentValue2: 'light',       // concurrent mode
  Provider: ...,                 // the actual provider component
  Consumer: ...,                 // legacy consumer
  _threadCount: 0,
};

ðŸ§  Key: React uses _currentValue to keep track of the latest value that should be read by consumers.